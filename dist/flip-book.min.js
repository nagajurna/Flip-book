"use strict";function Flip(a){function b(a){if(J(),w.drawImage(P,r,s,i,j,0,0,u.width,u.height),L+=1,M+=1,N+=1,L===A)return clearInterval(a),Q=null,t.dispatchEvent(E),document.dispatchEvent(E),void("first"===q?(r=f,s=e,O=0,P=x[O],setTimeout(function(){w.drawImage(P,r,s,i,j,0,0,u.width,u.height)},m)):"none"===q&&setTimeout(function(){t.style.visibility="hidden"},m));if(N%g===0){if(r=f,M===z)return s=e,N=0,M=0,O=0,void(P=x[O]);if(N===y)return s=e,N=0,void(O<x.length-1&&(O+=1,P=x[O]));s+=j+l}else r+=i+k}!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return"function"==typeof window.CustomEvent?!1:(a.prototype=window.Event.prototype,void(window.CustomEvent=a))}();var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=function(){t=document.getElementById(c);for(var a=t.children,b=!1,d=0;d<a.length;d++){"CANVAS"===a[d].tagName&&(u=a[d]),b=!0;break}b===!1&&(u=document.createElement("canvas"),t.appendChild(u)),u.style.width="100%",v=j/i,u.height=v*u.width,w=u.getContext("2d"),E.detail.container=c,F.detail.container=c,G.detail.container=c,H.detail.container=c,I.detail.container=c},C=function(){x=[];for(var a=0;a<d.length;a++)P=new Image,P.src=d[a],x.push(P);"first"===o?x[0].addEventListener("load",function(){w.drawImage(P,r,s,i,j,0,0,u.width,u.height)},!1):"last"===o&&(r=f+(g-1)*(i+k),s=e+(h-1)*(j+l),O=x.length-1,x[O].addEventListener("load",function(){w.drawImage(P,r,s,i,j,0,0,u.width,u.height)},!1))},D=function(){y=g*h,z=y*d.length,A=z*n},E=new CustomEvent("complete",{detail:{container:c,src:d}}),F=new CustomEvent("start",{detail:{container:c,src:d}}),G=new CustomEvent("pause",{detail:{container:c,src:d}}),H=new CustomEvent("resume",{detail:{container:c,src:d}}),I=new CustomEvent("stop",{detail:{container:c,src:d}}),J=function(){E.detail.src=d[O],F.detail.src=d[O],G.detail.src=d[O],H.detail.src=d[O],I.detail.src=d[O],E.detail.index=L+1,F.detail.index=L+1,G.detail.index=L+1,H.detail.index=L+2,I.detail.index=L+1};this.setContainer=function(a){if(void 0===a)throw new TypeError("Invalid flip() argument. Container must be defined");if("string"!=typeof a)throw new TypeError("Invalid flip() argument. Container must be string");if(""===a)throw new TypeError("Invalid flip() argument. Container must not be empty");c=a,B()},this.getContainer=function(){return c},this.setSrc=function(a){if(void 0===a)throw new TypeError("Invalid flip() argument. Src must be defined");if(a.constructor===Array){if(!(a.length>0))throw new TypeError("Invalid flip() argument. Src must not be empty");d=a,C(),D()}else{if("string"!=typeof a)throw new TypeError("Invalid flip() argument. Src must be string or array");if(""===a)throw new TypeError("Invalid flip() argument. Src must not be empty");d=[],d.push(a),C(),D()}},this.getSrc=function(){return d},this.setLeftMargin=function(a){f=void 0===a|"number"!=typeof a?0:a,r=f},this.getLeftMargin=function(){return f},this.setTopMargin=function(a){e=void 0===a|"number"!=typeof a?0:a,s=e},this.getTopMargin=function(){return e},this.setCols=function(a){if(void 0===a)throw new TypeError("Invalid flip() argument. Cols must be defined");if("number"!=typeof a)throw new TypeError("Invalid flip() argument. Cols must be a number");g=a,d&&D()},this.getCols=function(){return g},this.setRows=function(a){if(void 0===a)throw new TypeError("Invalid flip() argument. Rows must be defined");if("number"!=typeof a)throw new TypeError("Invalid flip() argument. Rows must be a number");h=a,d&&D()},this.getRows=function(){return h},this.setWidth=function(a){if(void 0===a)throw new TypeError("Invalid flip() argument. Width must be defined");if("number"!=typeof a)throw new TypeError("Invalid flip() argument. Width must be a number");i=a,t&&B()},this.getWidth=function(){return i},this.setHeight=function(a){if(!(void 0!==a|"number"==typeof a))throw new TypeError("Invalid flip() argument. Height must be defined");if("number"!=typeof a)throw new TypeError("Invalid flip() argument. Height must be a number");j=a,t&&B()},this.getHeight=function(){return j},this.setGutterX=function(a){k=void 0===a|"number"!=typeof a?0:a},this.getGutterX=function(){return k},this.setGutterY=function(a){l=void 0===a|"number"!=typeof a?0:a},this.getGutterY=function(){return l},this.setSpeed=function(a){m=void 0===a|"number"!=typeof a?100:a},this.getSpeed=function(){return m},this.setRepeat=function(a){n="infinite"===a?null:void 0===a|"number"!=typeof a?1:a,d&&D()},this.getRepeat=function(){return n},this.setStartPanel=function(a){o=void 0===a|"string"!=typeof a|""===a?"first":a},this.getStartPanel=function(){return o},this.setStopPanel=function(a){p=void 0===a|"string"!=typeof a|""===a?"last":a},this.getStopPanel=function(){return p},this.setCompletePanel=function(a){q=void 0===a|"string"!=typeof a|""===a?"last":a},this.getCompletePanel=function(){return q},this.setSrcOptions=function(a){this.setTopMargin(a.topMargin),this.setLeftMargin(a.leftMargin),this.setCols(a.cols),this.setRows(a.rows),this.setWidth(a.width),this.setHeight(a.height),this.setGutterX(a.gutterX),this.setGutterY(a.gutterY),this.setSrc(a.src)},this.setTopMargin(a.topMargin),this.setLeftMargin(a.leftMargin),this.setCols(a.cols),this.setRows(a.rows),this.setWidth(a.width),this.setHeight(a.height),this.setGutterX(a.gutterX),this.setGutterY(a.gutterY),this.setSpeed(a.speed),this.setRepeat(a.repeat),this.setStartPanel(a.startPanel),this.setStopPanel(a.stopPanel),this.setCompletePanel(a.completePanel),this.setSrc(a.src),this.setContainer(a.container);var K,L=0,M=0,N=0,O=0,P=x[O];J();var Q=null;this.start=function(){r=f,s=e,void 0!==K&&(clearInterval(K),L=0,M=0,N=0,O=0,P=x[O],J()),K=setInterval(function(){b(K)},m),setTimeout(function(){t.style.visibility="visible"},m),Q=!0,t.dispatchEvent(F),document.dispatchEvent(F)},this.pause=function(){Q===!0&&(clearInterval(K),Q=!1,t.dispatchEvent(G),document.dispatchEvent(G))},this.resume=function(){null!==K&&Q===!1&&(clearInterval(K),K=setInterval(function(){b(K)},m),Q=!0,t.dispatchEvent(H),document.dispatchEvent(H))},this.stop=function(){null!==K&&null!==Q&&(J(),clearInterval(K),Q=null,t.dispatchEvent(I),document.dispatchEvent(I),"last"===p?(r=f+(g-1)*(i+k),s=e+(h-1)*(j+l),O=x.length-1,P=x[O],w.drawImage(P,r,s,i,j,0,0,u.width,u.height)):"first"===p?(r=f,s=e,O=0,P=x[O],w.drawImage(P,r,s,i,j,0,0,u.width,u.height)):"none"===p&&(t.style.visibility="hidden"))}}